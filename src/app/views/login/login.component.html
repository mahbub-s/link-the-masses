<div *ngIf="!showLoginForm && !showRegisterForm" style="margin-top: 120px;">
    <h1 fxLayout="row" fxLayoutAlign="center center"> Welcome to Link the Masses</h1>
    <p fxLayout="row" fxLayoutAlign="center center">A web application for supporting a network for researchers and participants</p>
    <mat-divider></mat-divider>
  <div fxLayout="row" fxLayoutGap="1em" fxLayoutAlign="center center" style="margin-top: 80px;">
    <button color="accent" mat-raised-button (click)="loginForm()">Login</button>
    &nbsp;
    <button color="accent" mat-raised-button (click)="register()">Register</button>
  </div>
</div>


<mat-card *ngIf="!showRegisterForm && showLoginForm">
  <mat-card-title>{{'landing-page.login' | translate}}</mat-card-title>
  <form>
    <mat-form-field>
      <input matInput placeholder="Username" name="username" [(ngModel)]="username" [formControl]="usernameFormControl"
        [errorStateMatcher]="matcher">
      <mat-error *ngIf="usernameFormControl.hasError('required')">
        Username is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="usernameFormControl.hasError('invalid')">
        <strong>Valid</strong> username is required
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="password" placeholder="{{'landing-page.password' | translate}}" name="password" [(ngModel)]="password">
    </mat-form-field>
  </form>
  <mat-divider [inset]="true"></mat-divider>
  <mat-card-actions align="end">
    <button color="accent" mat-raised-button (click)="login(username, password)">{{'landing-page.login' | translate}}</button>
    &nbsp;
    <button color="accent" mat-raised-button (click)="showLoginForm = false">{{'landing-page.close' | translate}}</button>
    <!-- <button color="accent" mat-raised-button (click)="register()">Register</button> -->
  </mat-card-actions>
</mat-card>

<mat-card *ngIf="showRegisterForm">
  <mat-card-title>{{'landing-page.register' | translate}}</mat-card-title>
  <div class="register-form">
    <mat-form-field>
      <input matInput placeholder="{{'landing-page.enter_username' | translate}}" [(ngModel)]="model.username">
      <mat-hint>{{'landing-page.required_field' | translate}}</mat-hint>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="password" placeholder="Password" [(ngModel)]="model.password">
    </mat-form-field>
    <mat-form-field>
      <input matInput type="password" placeholder="Confirm Password" [(ngModel)]="confirmationPassword">
    </mat-form-field>
    <mat-form-field>
      <mat-label>{{'landing-page.role_select' | translate}}</mat-label>
      <mat-select [(ngModel)]="model.role" (click)="model.role = $event.id">
        <mat-option *ngFor="let role of roles" [value]="role.id">
          {{selectedLanguage === 'en' ? role.nameEn : role.nameFr}}
        </mat-option>
      </mat-select>
      <mat-hint>{{'landing-page.required_field' | translate}}</mat-hint>
    </mat-form-field>
    <mat-card *ngIf="model.role === 0 || model.role === 2">
      <mat-card-subtitle><strong>{{'landing-page.profile_info' | translate}}</strong></mat-card-subtitle>
      <mat-form-field>
        <input matInput placeholder="{{'landing-page.first_name' | translate}}" [(ngModel)]="model.firstName">
        <mat-hint>{{'landing-page.required_field' | translate}}</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="{{'landing-page.last_name' | translate}}" [(ngModel)]="model.lastName">
        <mat-hint>{{'landing-page.required_field' | translate}}</mat-hint>
      </mat-form-field>
      <div fxLayout="row" fxLayoutGap="1em">
        <mat-form-field>
          <input matInput type="number" placeholder="{{'landing-page.age' | translate}}" [(ngModel)]="model.age">
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{'landing-page.gender' | translate}}</mat-label>
          <mat-select [(ngModel)]="model.sex" (click)="model.sex = $event.id">
            <mat-option *ngFor="let s of sex" [value]="s.id">
              {{selectedLanguage === 'en' ? s.nameEn : s.nameFr}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <mat-form-field>
        <input matInput placeholder="{{'landing-page.address' | translate}}" [(ngModel)]="model.address">
      </mat-form-field>
      <!-- <mat-form-field>
        <input matInput placeholder="Country" [(ngModel)]="model.country">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="State/Province" [(ngModel)]="model.state">
        <mat-hint>* If Applicable</mat-hint>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="City" [(ngModel)]="model.city">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Zip/Postal Code" [(ngModel)]="model.zip">
        <mat-hint>* If Applicable</mat-hint>
      </mat-form-field> -->
    </mat-card>
  </div>
  <mat-divider [inset]="true"></mat-divider>
  <mat-card-actions align="end">
    <button color="accent" mat-raised-button (click)="create()">Submit</button>
    <button color="accent" mat-raised-button (click)="close()">Close</button>
  </mat-card-actions>
</mat-card>